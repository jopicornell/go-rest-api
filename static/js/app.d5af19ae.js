(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},s=[];function i(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"0830695f"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(e);var u=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",u.name="ChunkLoadError",u.type=r,u.request=s,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2fc4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=n("2f62"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("HeaderBar"),n("div",{staticClass:"columns is-fullheight"},[n("div",{staticClass:"column is-fullheight"},[n("router-view")],1),e.isLoggedIn()?n("div",{staticClass:"column is-3 has-background-white is-fullheight"},[n("SidebarChat")],1):e._e()])],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasUser?n("nav",{staticClass:"navbar docs-navbar is-spaced has-shadow"},[n("div",{staticClass:"navbar-menu"},["user"!==e.$route.name?n("div",{staticClass:"navbar-item"},[n("b-button",{attrs:{type:"is-info","icon-left":"user-circle"},on:{click:function(t){e.$router.push({name:"user",params:{id:e.$ls.get("user_id")}})}}},[e._v("\n        Profile\n      ")])],1):e._e(),"pictures"!==e.$route.name?n("div",{staticClass:"navbar-item"},[n("b-button",{attrs:{type:"is-info","icon-left":"images"},on:{click:function(t){return e.$router.push({name:"pictures"})}}},[e._v("\n        Images\n      ")])],1):e._e(),n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item"},[n("b-button",{attrs:{type:"is-info","icon-left":"cloud-upload-alt"},on:{click:function(t){e.showUploadModal=!0}}},[e._v("\n          Upload\n        ")])],1),n("div",{staticClass:"navbar-item"},[n("b-button",{attrs:{type:"is-danger","icon-left":"sign-out-alt"},on:{click:e.logOut}},[e._v("\n          Log Out\n        ")])],1)])]),n("b-modal",{attrs:{active:e.showUploadModal,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(t){e.showUploadModal=t}}},[n("UploadPictureCard")],1)],1):e._e()},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card"},[e._m(0),n("div",{staticClass:"modal-card-body"},[n("transition",{attrs:{name:"fade"}},[null===e.picture.image?n("b-upload",{key:"uploadPicture",attrs:{"drag-drop":""},model:{value:e.uploadPictureFile,callback:function(t){e.uploadPictureFile=t},expression:"uploadPictureFile"}},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-centered"},[n("p",[n("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),n("p",[e._v("Drop your JPEG picture here")])])])]):n("div",{key:"detailsPicture",staticClass:"message"},[n("form-wrapper",{attrs:{validator:e.$v.picture}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.createPicture(t)}}},[n("form-group",{attrs:{name:"title",label:"Picture Title"}},[n("b-input",{attrs:{type:"text",placeholder:"Picture Title"},on:{input:function(t){return e.$v.picture.title.$touch()}},model:{value:e.picture.title,callback:function(t){e.$set(e.picture,"title",t)},expression:"picture.title"}})],1),n("form-group",{attrs:{name:"description",label:"Description"}},[n("b-input",{attrs:{type:"textarea",placeholder:"Picture Description"},on:{input:function(t){return e.$v.picture.description.$touch()}},model:{value:e.picture.description,callback:function(t){e.$set(e.picture,"description",t)},expression:"picture.description"}})],1),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-primary is-large is-fullwidth",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.createPicture(t)}}},[e._v("\n                Create Picture\n              ")])])],1)])],1)],1),n("b-message",{attrs:{type:"is-danger","has-icon":"",size:"small",active:e.pictureError},on:{"update:active":function(t){e.pictureError=t}}},[e._v("\n      "+e._s(e.pictureErrorMessage)+"\n    ")])],1)])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Upload Picture")])])}],p=(n("28a5"),n("96cf"),n("3b8d")),d=(n("6762"),n("2fdb"),n("b5ae")),h={name:"UploadPictureCard",data:function(){return{uploadPictureFile:null,picture:{image:null,image_id:null,title:null,description:null},pictureError:!1,pictureErrorMessage:null}},watch:{pictureErrorMessage:function(e){this.pictureError=null!==e},uploadPictureFile:function(e){this.pictureErrorMessage=null,e&&e.size>0&&e.type.includes("jpeg")?e.size<2097152?this.picture.image=e:this.pictureErrorMessage="The maximum image size is 2MiB":this.pictureErrorMessage="Please upload a valid JPEG image"}},methods:{createPicture:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.picture.$touch(),!1!==this.$v.picture.$invalid){e.next=18;break}return e.next=4,this.apiPost("images?type=picture",this.picture.image);case 4:if(t=e.sent,201!==t.status||!t.headers.location){e.next=17;break}return n=t.headers.location.split("/"),r=parseInt(n[n.length-1]),this.picture.image=null,this.picture.image_id=r,this.picture.user_id=parseInt(this.$ls.get("user_id")),e.next=13,this.apiPost("pictures",this.picture);case 13:t=e.sent,201===t.status?this.$eventHub.$emit("picture-created"):this.pictureErrorMessage="Error creating the picture",e.next=18;break;case 17:this.pictureErrorMessage="Error creating the image";case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},validations:{picture:{required:d["required"],title:{required:d["required"],minLength:Object(d["minLength"])(3),maxLength:Object(d["maxLength"])(100)},description:{minLength:Object(d["minLength"])(0),maxLength:Object(d["maxLength"])(2e3)}}}},m=h,f=n("2877"),g=Object(f["a"])(m,u,l,!1,null,null,null),v=g.exports,b={name:"HeaderBar",components:{UploadPictureCard:v},data:function(){return{hasUser:!1,showUploadModal:!1}},mounted:function(){this.$ls.on("token",this.tokenUpdate),this.tokenUpdate(),this.$eventHub.$on("picture-created",this.onPictureCreated),this.$eventHub.$on("login",this.tokenUpdate)},methods:{tokenUpdate:function(){var e=this.$ls.get("token");this.hasUser=e&&e.length>0},logOut:function(){this.$ls.clear(),this.hasUser=!1,this.$router.push({name:"home"})},onPictureCreated:function(){this.showUploadModal=!1,this.$buefy.snackbar.open("New Picture created successfully")}}},w=b,x=Object(f["a"])(w,o,c,!1,null,null,null),y=x.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"sidebar"},[n("div",{staticClass:"chat-wrapper"},[n("div",{staticClass:"chat-area"},[n("div",{staticClass:"chat-scroll"},[n("h2",{staticClass:"title"},[e._v("Pictures Chat")]),e._l(e.chatMessages,(function(t,r){return n("div",{key:"chat_message_"+r,staticClass:"field"},[n("div",{staticClass:"tag",class:{"is-primary":t.user_id===e.currentUserID,"is-info":t.user_id!==e.currentUserID}},[e._v("\n            "+e._s(t.content)+"\n          ")])])}))],2)]),n("div",{staticClass:"field is-horizontal is-grouped chat-form"},[n("b-input",{attrs:{type:"text",expanded:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendNewMessage(t)}},model:{value:e.newMsgText,callback:function(t){e.newMsgText=t},expression:"newMsgText"}}),n("b-button",{attrs:{"icon-right":"paper-plane",type:"is-primary"},on:{click:e.sendNewMessage}})],1)])])},_=[],P={name:"SidebarChat",data:function(){return{newMsgText:"",currentUserID:0}},computed:Object(a["b"])({chatMessages:function(e){return e.chatMessages},chatParticipants:function(e){return e.chatParticipants}}),created:function(){this.currentUserID=parseInt(this.$ls.get("user_id"))},mounted:function(){this.$store.dispatch("connectWebSocket")},beforeDestroy:function(){this.$store.dispatch("disconnectWebSocket")},watch:{chatParticipants:function(e,t){if(console.log("Participants update",e,t),e.length>t.length);else{var n=t.filter((function(t){return!e.includes(t)}));console.log("DISCONNECTED",n)}}},methods:{sendNewMessage:function(){this.newMsgText=this.newMsgText.trim(),this.newMsgText.length>0&&(this.$store.dispatch("sendWsMessage",this.newMsgText),this.newMsgText="")}}},C=P,k=Object(f["a"])(C,$,_,!1,null,null,null),U=k.exports,E={components:{SidebarChat:U,HeaderBar:y}},O=E,L=(n("5c0b"),Object(f["a"])(O,s,i,!1,null,null,null)),M=L.exports,j=n("8c4f"),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section section-home"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("LoginBox")],1),n("div",{staticClass:"column is-half"},[n("RegistrationBox")],1)])])])},S=[],R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("form-wrapper",{attrs:{validator:e.$v.credentials}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.performLogin(t)}}},[n("form-group",{attrs:{name:"username",label:"Username"}},[n("b-input",{attrs:{type:"username",placeholder:"Username"},on:{input:function(t){return e.$v.credentials.username.$touch()}},model:{value:e.credentials.username,callback:function(t){e.$set(e.credentials,"username",t)},expression:"credentials.username"}})],1),n("form-group",{attrs:{name:"password",label:"Password"}},[n("b-input",{attrs:{type:"password",placeholder:"Password"},on:{input:function(t){return e.$v.credentials.password.$touch()}},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-primary is-large is-fullwidth",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.performLogin(t)}}},[e._v("\n          Login\n        ")])]),n("b-message",{attrs:{type:"is-danger","has-icon":"",size:"small",active:e.loginError},on:{"update:active":function(t){e.loginError=t}}},[e._v("\n        The username and/or password was not correct\n      ")])],1)])],1)},N=[],I={methods:{performLoginRequest:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.apiPost("users/login",t);case 2:if(n=e.sent,200!==n.status){e.next=11;break}return this.$ls.set("token",n.data.token),this.$ls.set("user_id",n.data.user_id),this.$ls.set("roles",n.data.roles),this.$eventHub.$emit("login"),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},A={name:"LoginBox",mixins:[I],data:function(){return{credentials:{username:null,password:null},loginError:!1}},methods:{performLogin:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.credentials.$touch(),!1!==this.$v.credentials.$invalid){e.next=10;break}return this.loginError=!1,e.next=5,this.performLoginRequest(this.credentials);case 5:if(!e.sent){e.next=9;break}this.$router.push({name:"pictures"}),e.next=10;break;case 9:this.loginError=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},validations:{credentials:{required:d["required"],username:{required:d["required"],minLength:Object(d["minLength"])(3),maxLength:Object(d["maxLength"])(50),alphaNum:d["alphaNum"]},password:{required:d["required"],minLength:Object(d["minLength"])(6),maxLength:Object(d["maxLength"])(50)}}}},T=A,D=Object(f["a"])(T,R,N,!1,null,null,null),H=D.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("form-wrapper",{attrs:{validator:e.$v.newUser}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.createAccount(t)}}},[n("form-group",{attrs:{name:"fullname",label:"Full name"}},[n("b-input",{attrs:{type:"username",placeholder:"Full name"},on:{input:function(t){return e.$v.newUser.fullname.$touch()}},model:{value:e.newUser.fullname,callback:function(t){e.$set(e.newUser,"fullname",t)},expression:"newUser.fullname"}})],1),n("form-group",{attrs:{name:"username",label:"Username"}},[n("b-input",{attrs:{type:"username",placeholder:"Username"},on:{input:function(t){return e.$v.newUser.username.$touch()}},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}})],1),n("form-group",{attrs:{name:"password",label:"Password"}},[n("b-input",{attrs:{type:"password",placeholder:"Password"},on:{input:function(t){return e.$v.newUser.password.$touch()}},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1),n("form-group",{attrs:{name:"password_confirmation",label:"Password Confirmation"}},[n("b-input",{attrs:{type:"password",placeholder:"Password Confirmation"},on:{input:function(t){return e.$v.newUser.password_confirmation.$touch()}},model:{value:e.newUser.password_confirmation,callback:function(t){e.$set(e.newUser,"password_confirmation",t)},expression:"newUser.password_confirmation"}})],1),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-primary is-large is-fullwidth",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.createAccount(t)}}},[e._v("\n          Create Account\n        ")])]),n("b-message",{attrs:{type:"is-danger","has-icon":"",size:"small",active:e.showAccountError},on:{"update:active":function(t){e.showAccountError=t}}},[e._v("\n        "+e._s(e.accountError)+"\n      ")])],1)])],1)},J=[],F={name:"RegistrationBox",mixins:[I],data:function(){return{newUser:{fullname:null,username:null,password:null,password_confirmation:null,role:"user"},accountError:null,showAccountError:!1}},watch:{accountError:function(e){this.showAccountError=null!==e}},methods:{createAccount:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.accountError=null,this.$v.newUser.$touch(),!1!==this.$v.newUser.$invalid){e.next=14;break}return e.next=5,this.apiPost("users",this.newUser);case 5:if(t=e.sent,201!==t.status&&200!==t.status){e.next=13;break}return this.$buefy.snackbar.open("User account created"),e.next=10,this.performLoginRequest({username:this.newUser.username,password:this.newUser.password});case 10:this.$router.push({name:"pictures"}),e.next=14;break;case 13:409===t.status?this.accountError="Error, the user already exists":this.accountError="Error creating user, please check your API";case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},validations:{newUser:{required:d["required"],fullname:{required:d["required"],minLength:Object(d["minLength"])(6),maxLength:Object(d["maxLength"])(50)},username:{required:d["required"],minLength:Object(d["minLength"])(3),maxLength:Object(d["maxLength"])(50),alphaNum:d["alphaNum"],isUnique:function(e){var t=this;return null===e||e.length<3||new Promise((function(n){t.apiHead("users/"+e).then((function(e){n(404===e.status)}))}))}},password:{required:d["required"],minLength:Object(d["minLength"])(6),maxLength:Object(d["maxLength"])(50)},password_confirmation:{required:d["required"],sameAsPassword:Object(d["sameAs"])("password")}}}},B=F,z=Object(f["a"])(B,W,J,!1,null,null,null),G=z.exports,V={name:"home",components:{RegistrationBox:G,LoginBox:H},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$ls.clear();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},X=V,K=Object(f["a"])(X,q,S,!1,null,null,null),Q=K.exports;r["a"].use(j["a"]);var Y=new j["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Q},{path:"/pictures",name:"pictures",component:function(){return n.e("about").then(n.bind(null,"e1f1"))}},{path:"/pictures/:id",name:"picture",component:function(){return n.e("about").then(n.bind(null,"90ca"))}},{path:"/users/:id",name:"user",component:function(){return n.e("about").then(n.bind(null,"7c87"))}}]}),Z=n("bc3a"),ee=n.n(Z),te=n("a1bc"),ne=n.n(te),re={methods:{isLoggedIn:function(){var e=this.$ls.get("token");return e&&e.length>0},buildApiURL:function(e){return"".concat(ne.a.apiProtocol,"://").concat(ne.a.apiHost,":").concat(ne.a.apiPort,"/").concat(e)},getRequestHeaders:function(e){var t=localStorage.getItem("token");t&&(t=JSON.parse(t).value);var n={Accept:"application/json"};if(null!==t&&t.length>0&&(n["Authorization"]="Bearer "+t),void 0!==e)for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},apiGet:function(e,t){var n=this.getRequestHeaders(t);return this.performRequest(ee.a.get,[this.buildApiURL(e),{headers:n}])},apiPost:function(e,t,n){var r=this.getRequestHeaders(n);return this.performRequest(ee.a.post,[this.buildApiURL(e),t,{headers:r}])},apiDelete:function(e,t){var n=this.getRequestHeaders(t);return this.performRequest(ee.a.delete,[this.buildApiURL(e),{headers:n}])},apiPut:function(e,t,n){var r=this.getRequestHeaders(n);return this.performRequest(ee.a.put,[this.buildApiURL(e),t,{headers:r}])},apiHead:function(e,t){var n=this.getRequestHeaders(t);return this.performRequest(ee.a.head,[this.buildApiURL(e),{headers:n}])},performRequest:function(e,t){return new Promise((function(n){e.apply(null,t).then(n).catch((function(e){var t={error:e};e.response&&(t=e.response,delete e.response,t.error=e),n(t)}))}))},getAbsoluteURL:function(e){return"/"===e.charAt(0)&&(e=e.substring(1)),"".concat(ne.a.apiProtocol,"://").concat(ne.a.apiHost,":").concat(ne.a.apiPort,"/").concat(e)}}},ae=n("c16e"),se=n.n(ae),ie=n("1dce"),oe=n.n(ie),ce=n("7f53"),ue=n("289d"),le=(n("5abe"),n("ecee"));n("20d6");r["a"].use(a["a"]);var pe=new a["a"].Store({state:{chatMessages:null!==localStorage.getItem("chat_messages")?JSON.parse(localStorage.getItem("chat_messages")):[],chatParticipants:null!==localStorage.getItem("chat_participants")?JSON.parse(localStorage.getItem("chat_participants")):[],wsConnection:null},getters:{},actions:{disconnectWebSocket:function(e){var t=e.commit,n=e.state;null!=n.wsConnection&&(n.wsConnection.close(),t("onWsClosed"))},connectWebSocket:function(e){var t=e.commit,n=e.dispatch;if("WebSocket"in window){var r=JSON.parse(localStorage.getItem("token")),a=new WebSocket("ws://".concat(ne.a.apiHost,":").concat(ne.a.apiPort,"/websocket"),["access_token"]);a.onopen=function(){a.send(JSON.stringify({type:"token",content:r.value})),console.log("WS Connection open")},a.onmessage=function(e){n("onWsMessage",e)},a.onclose=function(){n("onWsClose")},t("onWsConnected",a)}else console.log("WebSockets NO soportados por tu navegador!")},onWsMessage:function(e,t){e.dispatch;var n=e.commit,r=JSON.parse(t.data);"message"===r.type?n("onNewMessage",r):"connection"===r.type?n("onNewConnection",r):"disconnection"===r.type&&n("onNewDisconnection",r)},onWsClose:function(){console.log("MEssage connection close")},sendWsMessage:function(e,t){var n=e.state;n.wsConnection.send(JSON.stringify({type:"message",content:t}))}},mutations:{onWsConnected:function(e,t){e.wsConnection=t},onWsClosed:function(e){e.wsConnection=null,e.chatMessages=[],e.chatParticipants=[]},onNewMessage:function(e,t){e.chatMessages.push(t),localStorage.setItem("chat_messages",JSON.stringify(e.chatMessages))},onNewConnection:function(e,t){e.chatParticipants.includes(t)||(e.chatParticipants.push(t),localStorage.setItem("chat_participants",JSON.stringify(e.chatParticipants)))},onNewDisconnection:function(e,t){var n=e.chatParticipants.findIndex((function(e){return e.user_id===t.user_id}));console.log("USER INDEX DELETE",n),e.chatParticipants.splice(n,1),localStorage.setItem("chat_participants",JSON.stringify(e.chatParticipants))}}}),de=(n("2fc4"),n("c074")),he=n("ad3d"),me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-field",{attrs:{label:e.label,"custom-class":e.customClass,type:e.type,message:e.firstErrorMessage}},[e._t("default")],2)},fe=[],ge={name:"FormGroup",extends:ce["b"],computed:{type:function(){return this.hasErrors?"is-danger":this.isValid?"is-success":null},customClass:function(){return this.hasErrors?"has-text-danger":this.isValid?"has-text-success":null}}},ve=ge,be=Object(f["a"])(ve,me,fe,!1,null,null,null),we=be.exports;le["c"].add(de["g"],de["h"],de["r"],de["n"],de["m"],de["z"],de["l"],de["d"],de["c"],de["b"],de["a"],de["t"],de["i"],de["s"],de["q"],de["w"],de["o"],de["p"],de["e"],de["f"],de["y"],de["k"],de["j"],de["u"],de["v"],de["x"]),r["a"].component("vue-fontawesome",he["a"]),r["a"].config.productionTip=!1,r["a"].use(a["a"]),r["a"].mixin(re),r["a"].use(se.a),r["a"].use(ue["a"],{defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas"}),r["a"].use(oe.a),r["a"].use(ce["a"],{messages:{required:"Field {attribute} is required",email:"Field {attribute} is not a proper email address",minLength:"The value is too short",maxLength:"The value is too long",isUnique:"Username already exists",sameAsPassword:"The passwords do not match"},attributes:{name:"Name",email:"Email",text:"Text"}}),r["a"].component("FormGroup",we),r["a"].component("formWrapper",ce["c"].FormWrapper),r["a"].prototype.$eventHub=new r["a"];var xe=new r["a"]({router:Y,render:function(e){return e(M)},store:pe}).$mount("#app");window.VueApp=xe},"5c0b":function(e,t,n){"use strict";var r=n("e332"),a=n.n(r);a.a},a1bc:function(e,t){var n={apiProtocol:"http",apiHost:"localhost",apiPort:8080};e.exports=n},e332:function(e,t,n){}});
//# sourceMappingURL=app.d5af19ae.js.map